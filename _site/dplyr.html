<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.1.245">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Emorie D Beck">

<title>Emorie D. Beck, PhD - Data Manipulation: Intro to dplyr</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { color: #008000; } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { color: #008000; font-weight: bold; } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./purrr.html" rel="next">
<link href="./tutorials.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Emorie D. Beck, PhD</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="./index.html">Home</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./about.html">About</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./publications.html">Publications</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./projects.html">Projects</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link active" href="./tutorials.html" aria-current="page">Tutorials</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./talks.html">Talks</a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="./teaching.html">Teaching</a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
    <div class="container-fluid d-flex justify-content-between">
      <h1 class="quarto-secondary-nav-title">Data Manipulation: Intro to <code>dplyr</code></h1>
      <button type="button" class="quarto-btn-toggle btn" aria-label="Show secondary navigation">
        <i class="bi bi-chevron-right"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./tutorials.html" class="sidebar-item-text sidebar-link">Tutorials</a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./dplyr.html" class="sidebar-item-text sidebar-link active">Data Manipulation: Intro to <code>dplyr</code></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./purrr.html" class="sidebar-item-text sidebar-link">Intro to <code>purrr</code></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./ggplot2.html" class="sidebar-item-text sidebar-link">Introduction to ggplot2</a>
  </div>
</li>
    </ul>
    </div>
</nav>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#dplyr" id="toc-dplyr" class="nav-link active" data-scroll-target="#dplyr"><code>dplyr</code></a></li>
  <li><a href="#key-dplyr-functions" id="toc-key-dplyr-functions" class="nav-link" data-scroll-target="#key-dplyr-functions">Key <code>dplyr</code> Functions</a>
  <ul class="collapse">
  <li><a href="#section" id="toc-section" class="nav-link" data-scroll-target="#section">1. <code>%&gt;%</code></a></li>
  <li><a href="#filter" id="toc-filter" class="nav-link" data-scroll-target="#filter">2. <code>filter()</code></a></li>
  <li><a href="#select" id="toc-select" class="nav-link" data-scroll-target="#select">3. <code>select()</code></a></li>
  <li><a href="#arrange" id="toc-arrange" class="nav-link" data-scroll-target="#arrange">4. <code>arrange()</code></a></li>
  </ul></li>
  <li><a href="#bringing-it-all-together-split-apply-combine" id="toc-bringing-it-all-together-split-apply-combine" class="nav-link" data-scroll-target="#bringing-it-all-together-split-apply-combine">Bringing it all together: Split-Apply-Combine</a>
  <ul class="collapse">
  <li><a href="#group_by" id="toc-group_by" class="nav-link" data-scroll-target="#group_by">5. <code>group_by()</code></a></li>
  <li><a href="#mutate" id="toc-mutate" class="nav-link" data-scroll-target="#mutate">6. <code>mutate()</code></a></li>
  <li><a href="#summarize-summarise" id="toc-summarize-summarise" class="nav-link" data-scroll-target="#summarize-summarise">7. <code>summarize()</code> / <code>summarise()</code></a></li>
  </ul></li>
  <li><a href="#conclusion" id="toc-conclusion" class="nav-link" data-scroll-target="#conclusion">Conclusion</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title d-none d-lg-block">Data Manipulation: Intro to <code>dplyr</code></h1>
</div>



<div class="quarto-title-meta">

    <div>
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-contents">
             <p>Emorie D Beck </p>
          </div>
  </div>
    
    
  </div>
  

</header>

<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(psych)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="dplyr" class="level1">
<h1><code>dplyr</code></h1>
<p>The <code>dplyr</code> package is a powerful set of tools from within the larger <code>tidyverse</code> suite of functions. <code>dplyr</code> functions are useful for a variety of functions, perhaps particularly data manipulation.</p>
<p>Although there are a large number of functions within the <code>dplyr</code> package, today I’m going to introduce a subset of them along with a small number of use cases. But don’t worry, these functions will be the key underpinning of code I use in all tutorials going forward, so there will be lots more examples and use cases.</p>
<p>For now, here’s a quick list of the functions we’ll cover today:</p>
<ol type="1">
<li><code>%&gt;%</code>: The pipe. Read as “and then.”<br>
</li>
<li><code>filter()</code>: Pick observations (rows) by their values.<br>
</li>
<li><code>select()</code>: Pick variables (columns) by their names.<br>
</li>
<li><code>arrange()</code>: Reorder the rows.<br>
</li>
<li><code>group_by()</code>: Implicitly split the data set by grouping by names (columns).<br>
</li>
<li><code>mutate()</code>: Create new variables with functions of existing variables.<br>
</li>
<li><code>summarize()</code> / <code>summarise()</code>: Collapse many values down to a single summary.</li>
</ol>
<p>Although each of these functions are powerful alone, they are incredibly powerful in conjunction with one another. So below, I’ll briefly introduce each function, then link them all together using an example of basic data cleaning and summary.</p>
</section>
<section id="key-dplyr-functions" class="level1">
<h1>Key <code>dplyr</code> Functions</h1>
<section id="section" class="level2">
<h2 class="anchored" data-anchor-id="section">1. <code>%&gt;%</code></h2>
<p>The pipe <code>%&gt;%</code> is wonderful. It makes coding intuitive. Often in coding, you need to use so-called nested functions. For example, you might want to round a number after taking the square of 43.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb2"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">43</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.557439</code></pre>
</div>
<div class="sourceCode cell-code" id="cb4"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">round</span>(<span class="fu">sqrt</span>(<span class="dv">43</span>), <span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.56</code></pre>
</div>
</div>
<p>The issue with this comes whenever we need to do a series of operations on a data set or other type of object. In such cases, if we run it in a single call, then we have to start in the middle and read our way out.</p>
<p>The pipe solves this by allowing you to read from left to right (or top to bottom). The easiest way to think of it is that each call of <code>%&gt;%</code> reads and operates as “and then.” So with the rounded square root of 43, for example:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb6"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sqrt</span>(<span class="dv">43</span>) <span class="sc">%&gt;%</span></span>
<span id="cb6-2"><a href="#cb6-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">round</span>(<span class="dv">2</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 6.56</code></pre>
</div>
</div>
<p>As you can see, the two results are the same but the second is slightly easier to follow. And, as you’ll see below, this becomes even more intuitive when you start using it in conjunction with <code>dplyr</code> functions.</p>
</section>
<section id="filter" class="level2">
<h2 class="anchored" data-anchor-id="filter">2. <code>filter()</code></h2>
<p>Often times, when conducting research (experiments or otherwise), there are observations (people, specific trials, etc.) that you don’t want to include.</p>
<p>Say for example, that you’re interested personality change in adolescence, but you just opened a survey up online. So when you actually download and examine your data, you realize that you have an age range of something like 3-86, not 12-18. In this case, you want to get rid of the people over 18 – that is, <code>filter()</code> them out.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">data</span>(bfi) <span class="co"># grab the bfi data from the psych package</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span> <span class="fu">as_tibble</span>()</span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bfi<span class="sc">$</span>age) <span class="co"># get age descriptives</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   3.00   20.00   26.00   28.78   35.00   86.00 </code></pre>
</div>
<div class="sourceCode cell-code" id="cb10"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span> <span class="co"># see a pipe!</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> <span class="dv">18</span>) <span class="co"># filter to age up to 18</span></span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bfi2<span class="sc">$</span>age) <span class="co"># summary of the new data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
    3.0    16.0    17.0    16.3    18.0    18.0 </code></pre>
</div>
</div>
<p>But this isn’t quite right. We still have folks below 12. But, the beauty of <code>filter()</code> is that you can do sequence of <code>OR</code> and <code>AND</code> statements when there is more than one condition, such as up to 18 <code>AND</code> at least 12.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb12"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb12-2"><a href="#cb12-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">&lt;=</span> <span class="dv">18</span> <span class="sc">&amp;</span> age <span class="sc">&gt;=</span> <span class="dv">12</span>) <span class="co"># filter to age up to 18 and at least 12</span></span>
<span id="cb12-3"><a href="#cb12-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb12-4"><a href="#cb12-4" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bfi2<span class="sc">$</span>age) <span class="co"># summary of the new data </span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   12.0    16.0    17.0    16.4    18.0    18.0 </code></pre>
</div>
</div>
<p>Got it!</p>
<p>But filter works for more use cases than just conditional <code>&lt;</code>, <code>&gt;</code>, <code>&lt;=</code>, and <code>&gt;=</code>. It can also be used for cases where we want a single values to match cases with text. Before I demonstrate that, though, I need to convert one of the variables in the <code>bfi</code> data frame to a string. So let’s change gender (1 = male, 2 = female) to text (we’ll get into factors later).</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>bfi<span class="sc">$</span>education <span class="ot">&lt;-</span> plyr<span class="sc">::</span><span class="fu">mapvalues</span>(bfi<span class="sc">$</span>education, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>, <span class="fu">c</span>(<span class="st">"Below HS"</span>, <span class="st">"HS"</span>, <span class="st">"Some College"</span>, <span class="st">"College"</span>, <span class="st">"Higher Degree"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now let’s try a few things:</p>
<p><strong>1. Create a data set with only individuals with some college (<code>==</code>).</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb15"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span> </span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(education <span class="sc">==</span> <span class="st">"Some College"</span>)</span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(bfi2<span class="sc">$</span>education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Some College"</code></pre>
</div>
</div>
<p><strong>2. Create a data set with only people age 18 (<code>==</code>).</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb17"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb17-2"><a href="#cb17-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">==</span> <span class="dv">18</span>)</span>
<span id="cb17-3"><a href="#cb17-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bfi2<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
     18      18      18      18      18      18 </code></pre>
</div>
</div>
<p><strong>3. Create a data set with individuals with some college or above (<code>%in%</code>).</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb19"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(education <span class="sc">%in%</span> <span class="fu">c</span>(<span class="st">"Some College"</span>, <span class="st">"College"</span>, <span class="st">"Higher Degree"</span>))</span>
<span id="cb19-3"><a href="#cb19-3" aria-hidden="true" tabindex="-1"></a><span class="fu">unique</span>(bfi2<span class="sc">$</span>education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] "Some College"  "Higher Degree" "College"      </code></pre>
</div>
</div>
<p>The <code>%in%</code> operator is wonderful. Instead of comparing a column to a single value, you can compare it to several. So above, when we wanted ages between 12 and 18, we could have done:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>bfi2 <span class="ot">&lt;-</span> bfi <span class="sc">%&gt;%</span></span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">filter</span>(age <span class="sc">%in%</span> <span class="dv">12</span><span class="sc">:</span><span class="dv">18</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="fu">summary</span>(bfi2<span class="sc">$</span>age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>   Min. 1st Qu.  Median    Mean 3rd Qu.    Max. 
   12.0    16.0    17.0    16.4    18.0    18.0 </code></pre>
</div>
</div>
<p>I’ve been using <code>dplyr</code> for nearly five years, and I still have to remind myself that when you want to remove rows, you use <code>filter()</code>.</p>
</section>
<section id="select" class="level2">
<h2 class="anchored" data-anchor-id="select">3. <code>select()</code></h2>
<p>If <code>filter()</code> is for pulling certain observations (rows), then <code>select()</code> is for pulling certain variables (columns). Almost without fail, any data that are received for collected are going to have some variables that are not used, not useful, extraneous, etc. In such cases, it’s good practice to remove these columns to stop your environment from becoming cluttered and eating up your RAM.</p>
<p>In our <code>bfi</code> data, most of these have been pre-removed, so instead, we’ll imagine we don’t want to use any indicators of Agreeableness (A1-A5) and that we aren’t interested in gender.</p>
<p>With <code>select()</code>, there are few ways choose variables. We can bare quote name the ones we want to keep, bare quote names we want to remove, or use any of a number of <code>select()</code> helper functions.</p>
<p><strong>1. Bare quote columns we want to keep:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(C1, C2, C3, C4, C5)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 5
      C1    C2    C3    C4    C5
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     3     3     4     4
 2     5     4     4     3     4
 3     4     5     4     2     5
 4     4     4     3     5     5
 5     4     4     5     3     2
 6     6     6     6     1     3
 7     5     4     4     2     3
 8     3     2     4     2     4
 9     6     6     3     4     5
10     6     5     6     2     1
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>I’m going to stop there because I don’t want to name the additional 17 columns we want to keep. Instead we’ll use <code>:</code> to grab a <em>range</em> of columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb25"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(C1<span class="sc">:</span>O5, education, age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 22
      C1    C2    C3    C4    C5    E1    E2    E3    E4    E5    N1    N2    N3
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     3     3     4     4     3     3     3     4     4     3     4     2
 2     5     4     4     3     4     1     1     6     4     3     3     3     3
 3     4     5     4     2     5     2     4     4     4     5     4     5     4
 4     4     4     3     5     5     5     3     4     4     4     2     5     2
 5     4     4     5     3     2     2     2     5     4     5     2     3     4
 6     6     6     6     1     3     2     1     6     5     6     3     5     2
 7     5     4     4     2     3     4     3     4     5     5     1     2     2
 8     3     2     4     2     4     3     6     4     2     1     6     3     2
 9     6     6     3     4     5     5     3    NA     4     3     5     5     2
10     6     5     6     2     1     2     2     4     5     5     5     5     5
# … with 2,790 more rows, and 9 more variables: N4 &lt;int&gt;, N5 &lt;int&gt;, O1 &lt;int&gt;,
#   O2 &lt;int&gt;, O3 &lt;int&gt;, O4 &lt;int&gt;, O5 &lt;int&gt;, education &lt;chr&gt;, age &lt;int&gt;</code></pre>
</div>
</div>
<p><strong>2. Bare quote columns we don’t want to keep:</strong></p>
<div class="cell">
<div class="sourceCode cell-code" id="cb27"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb27-2"><a href="#cb27-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">-</span>(A1<span class="sc">:</span>A5), <span class="sc">-</span>gender)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 22
      C1    C2    C3    C4    C5    E1    E2    E3    E4    E5    N1    N2    N3
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     3     3     4     4     3     3     3     4     4     3     4     2
 2     5     4     4     3     4     1     1     6     4     3     3     3     3
 3     4     5     4     2     5     2     4     4     4     5     4     5     4
 4     4     4     3     5     5     5     3     4     4     4     2     5     2
 5     4     4     5     3     2     2     2     5     4     5     2     3     4
 6     6     6     6     1     3     2     1     6     5     6     3     5     2
 7     5     4     4     2     3     4     3     4     5     5     1     2     2
 8     3     2     4     2     4     3     6     4     2     1     6     3     2
 9     6     6     3     4     5     5     3    NA     4     3     5     5     2
10     6     5     6     2     1     2     2     4     5     5     5     5     5
# … with 2,790 more rows, and 9 more variables: N4 &lt;int&gt;, N5 &lt;int&gt;, O1 &lt;int&gt;,
#   O2 &lt;int&gt;, O3 &lt;int&gt;, O4 &lt;int&gt;, O5 &lt;int&gt;, education &lt;chr&gt;, age &lt;int&gt;</code></pre>
</div>
</div>
<p>Note the <code>()</code> around the columns. That is necessary when you want to remove a range of columns.</p>
<p><strong>3. Add or remove using <code>select()</code> helper functions.</strong></p>
<ul>
<li><code>starts_with()</code>: matches names that begin with quoted argument. For example, if we wanted all the Conscientiousness items, we could call the following:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb29"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb29-2"><a href="#cb29-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 5
      C1    C2    C3    C4    C5
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     3     3     4     4
 2     5     4     4     3     4
 3     4     5     4     2     5
 4     4     4     3     5     5
 5     4     4     5     3     2
 6     6     6     6     1     3
 7     5     4     4     2     3
 8     3     2     4     2     4
 9     6     6     3     4     5
10     6     5     6     2     1
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>ends_with()</code>: matches names that end with quoted argument. For example, if we wanted the first item in each Big Five scale, we could call:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb31"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb31-2"><a href="#cb31-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">ends_with</span>(<span class="st">"1"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 5
      A1    C1    E1    N1    O1
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     2     3     3     3
 2     2     5     1     3     4
 3     5     4     2     4     4
 4     4     4     5     2     3
 5     2     4     2     2     3
 6     6     6     2     3     4
 7     2     5     4     1     5
 8     4     3     3     6     3
 9     4     6     5     5     6
10     2     6     2     5     5
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>contains()</code>: matches names that contain quote material. This can be any subset of a string, which makes it very useful for a number of contexts we’ll see later. But for now, if I wanted to be lazy or couldn’t remember the name of th education variable, I could call:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb33"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb33-2"><a href="#cb33-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">contains</span>(<span class="st">"edu"</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 1
   education   
   &lt;chr&gt;       
 1 &lt;NA&gt;        
 2 &lt;NA&gt;        
 3 &lt;NA&gt;        
 4 &lt;NA&gt;        
 5 &lt;NA&gt;        
 6 Some College
 7 &lt;NA&gt;        
 8 HS          
 9 Below HS    
10 &lt;NA&gt;        
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>matches()</code>: selects variables that match a regular expression (regex). Regex is tricky. I tend to end up referencing online documentation when I need to use this beyond a few basic expressions that I use very regularly. We’ll start with a simple one, keeping only those variables that either have or do not have numbers:</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb35"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a><span class="co"># contains numbers</span></span>
<span id="cb35-2"><a href="#cb35-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb35-3"><a href="#cb35-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">matches</span>(<span class="st">"[0-9]"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 25
      A1    A2    A3    A4    A5    C1    C2    C3    C4    C5    E1    E2    E3
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     2     4     3     4     4     2     3     3     4     4     3     3     3
 2     2     4     5     2     5     5     4     4     3     4     1     1     6
 3     5     4     5     4     4     4     5     4     2     5     2     4     4
 4     4     4     6     5     5     4     4     3     5     5     5     3     4
 5     2     3     3     4     5     4     4     5     3     2     2     2     5
 6     6     6     5     6     5     6     6     6     1     3     2     1     6
 7     2     5     5     3     5     5     4     4     2     3     4     3     4
 8     4     3     1     5     1     3     2     4     2     4     3     6     4
 9     4     3     6     3     3     6     6     3     4     5     5     3    NA
10     2     5     6     6     5     6     5     6     2     1     2     2     4
# … with 2,790 more rows, and 12 more variables: E4 &lt;int&gt;, E5 &lt;int&gt;, N1 &lt;int&gt;,
#   N2 &lt;int&gt;, N3 &lt;int&gt;, N4 &lt;int&gt;, N5 &lt;int&gt;, O1 &lt;int&gt;, O2 &lt;int&gt;, O3 &lt;int&gt;,
#   O4 &lt;int&gt;, O5 &lt;int&gt;</code></pre>
</div>
<div class="sourceCode cell-code" id="cb37"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="co"># does not contain numbers</span></span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="sc">!</span><span class="fu">matches</span>(<span class="st">"[0-9]"</span>)) </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 3
   gender education      age
    &lt;int&gt; &lt;chr&gt;        &lt;int&gt;
 1      1 &lt;NA&gt;            16
 2      2 &lt;NA&gt;            18
 3      2 &lt;NA&gt;            17
 4      2 &lt;NA&gt;            17
 5      1 &lt;NA&gt;            17
 6      2 Some College    21
 7      1 &lt;NA&gt;            18
 8      1 HS              19
 9      1 Below HS        19
10      2 &lt;NA&gt;            17
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>num_range()</code>: Given a stem and a range of numbers, this selects items in a sequence. This is especially useful when variables of your data set may not be in order.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb39"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb39-1"><a href="#cb39-1" aria-hidden="true" tabindex="-1"></a><span class="co"># select first 2 Extraversion items</span></span>
<span id="cb39-2"><a href="#cb39-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb39-3"><a href="#cb39-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">num_range</span>(<span class="st">"E"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">2</span>))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 2
      E1    E2
   &lt;int&gt; &lt;int&gt;
 1     3     3
 2     1     1
 3     2     4
 4     5     3
 5     2     2
 6     2     1
 7     4     3
 8     3     6
 9     5     3
10     2     2
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>one_of()</code>: select any of a subset of items from a vector. This is one of my favorites, for reasons we’ll see in my tutorial on workflow and data documentation. But for now, let’s say I thought there were six items in each personality when there are actually five. So when I call the following, <code>one_of()</code> will be forgiving and ignore the fact that I messed up.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb41"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb41-1"><a href="#cb41-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb41-2"><a href="#cb41-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">one_of</span>(<span class="fu">paste0</span>(<span class="st">"E"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 5
      E1    E2    E3    E4    E5
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     3     3     3     4     4
 2     1     1     6     4     3
 3     2     4     4     4     5
 4     5     3     4     4     4
 5     2     2     5     4     5
 6     2     1     6     5     6
 7     4     3     4     5     5
 8     3     6     4     2     1
 9     5     3    NA     4     3
10     2     2     4     5     5
# … with 2,790 more rows</code></pre>
</div>
</div>
<ul>
<li><code>all_of()</code>: select all of a subset of items from a vector. Unlike <code>one_of()</code>, <code>all_of()</code> is less forgiving and will throw an error if we try to call for 6 Extraversion items.</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb43"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb43-1"><a href="#cb43-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb43-2"><a href="#cb43-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">paste0</span>(<span class="st">"E"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">6</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-error">
<pre><code>Error in `select()`:
! Can't subset columns that don't exist.
✖ Column `E6` doesn't exist.</code></pre>
</div>
</div>
<p>Oops. In this case, we’d then need to modify the code to reflect the correct number of items.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb45"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb45-1"><a href="#cb45-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb45-2"><a href="#cb45-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">all_of</span>(<span class="fu">paste0</span>(<span class="st">"E"</span>, <span class="dv">1</span><span class="sc">:</span><span class="dv">5</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 5
      E1    E2    E3    E4    E5
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;
 1     3     3     3     4     4
 2     1     1     6     4     3
 3     2     4     4     4     5
 4     5     3     4     4     4
 5     2     2     5     4     5
 6     2     1     6     5     6
 7     4     3     4     5     5
 8     3     6     4     2     1
 9     5     3    NA     4     3
10     2     2     4     5     5
# … with 2,790 more rows</code></pre>
</div>
</div>
</section>
<section id="arrange" class="level2">
<h2 class="anchored" data-anchor-id="arrange">4. <code>arrange()</code></h2>
<p>Sometimes, either in order to get a better sense of our data or in order to well, order our data, we want to sort it. Although there is a base <code>R</code> <code>sort()</code> function, the <code>arrange()</code> function is <code>tidyverse</code> version that plays nicely with other <code>tidyverse functions</code>.</p>
<p>So in our previous examples, we could also <code>arrange()</code> our data by age or education, rather than simply filtering. (Or as we’ll see later, we can do both!)</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb47"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by age</span></span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender<span class="sc">:</span>age) <span class="sc">%&gt;%</span></span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 3
   gender education       age
    &lt;int&gt; &lt;chr&gt;         &lt;int&gt;
 1      1 Higher Degree     3
 2      2 &lt;NA&gt;              9
 3      2 Some College     11
 4      2 &lt;NA&gt;             11
 5      2 &lt;NA&gt;             11
 6      2 &lt;NA&gt;             12
 7      2 &lt;NA&gt;             12
 8      2 &lt;NA&gt;             12
 9      2 &lt;NA&gt;             12
10      1 &lt;NA&gt;             12
# … with 2,790 more rows</code></pre>
</div>
<div class="sourceCode cell-code" id="cb49"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb49-1"><a href="#cb49-1" aria-hidden="true" tabindex="-1"></a><span class="co"># sort by education</span></span>
<span id="cb49-2"><a href="#cb49-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb49-3"><a href="#cb49-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender<span class="sc">:</span>age) <span class="sc">%&gt;%</span></span>
<span id="cb49-4"><a href="#cb49-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 3
   gender education   age
    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;
 1      1 Below HS     19
 2      1 Below HS     21
 3      1 Below HS     17
 4      1 Below HS     18
 5      1 Below HS     18
 6      2 Below HS     18
 7      2 Below HS     43
 8      1 Below HS     32
 9      1 Below HS     18
10      2 Below HS     18
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>We can also arrange by multiple columns, like if we wanted to sort by gender then education:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb51"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb51-1"><a href="#cb51-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb51-2"><a href="#cb51-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(gender<span class="sc">:</span>age) <span class="sc">%&gt;%</span></span>
<span id="cb51-3"><a href="#cb51-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(gender, education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 3
   gender education   age
    &lt;int&gt; &lt;chr&gt;     &lt;int&gt;
 1      1 Below HS     19
 2      1 Below HS     21
 3      1 Below HS     17
 4      1 Below HS     18
 5      1 Below HS     18
 6      1 Below HS     32
 7      1 Below HS     18
 8      1 Below HS     18
 9      1 Below HS     53
10      1 Below HS     18
# … with 2,790 more rows</code></pre>
</div>
</div>
</section>
</section>
<section id="bringing-it-all-together-split-apply-combine" class="level1">
<h1>Bringing it all together: Split-Apply-Combine</h1>
<p>Much of the power of <code>dplyr</code> functions lay in the split-apply-combine method. The method is kind of what it sounds like. A given set of of data are <em>split</em> into smaller chunks, then a function or series of functions are <em>applied</em> to each chunk, and then the chunks are <em>combined</em> back together.</p>
<p>Although all of the <code>dplyr</code> functions can be used in conjunction with one another, I’m going to highlight the <code>group_by()</code>, <code>mutate()</code>, and <code>summarize()</code> / <code>summarise()</code> functions to highlight the core of the split-apply-combine method.</p>
<section id="group_by" class="level2">
<h2 class="anchored" data-anchor-id="group_by">5. <code>group_by()</code></h2>
<p>The <code>group_by()</code> function is the “split” of the method. It basically implicitly breaks the data set into chunks by whatever bare quoted column(s)/variable(s) are supplied as arguments.</p>
<p>So imagine that we wanted to <code>group_by()</code> education levels to get average ages at each level. We would simply call:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb53"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb53-1"><a href="#cb53-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb53-2"><a href="#cb53-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb53-3"><a href="#cb53-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 8
# Groups:   education [6]
      C1    C2    C3    C4    C5   age gender education   
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;       
 1     2     3     3     4     4    16      1 &lt;NA&gt;        
 2     5     4     4     3     4    18      2 &lt;NA&gt;        
 3     4     5     4     2     5    17      2 &lt;NA&gt;        
 4     4     4     3     5     5    17      2 &lt;NA&gt;        
 5     4     4     5     3     2    17      1 &lt;NA&gt;        
 6     6     6     6     1     3    21      2 Some College
 7     5     4     4     2     3    18      1 &lt;NA&gt;        
 8     3     2     4     2     4    19      1 HS          
 9     6     6     3     4     5    19      1 Below HS    
10     6     5     6     2     1    17      2 &lt;NA&gt;        
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>We can now see that it tells us that we have a tibble with 2,800 rows and 8 columns as well as <code>Groups:   education [6]</code></p>
<p>Importantly, once you group, you must <code>ungroup()</code> or your data frame will remain “split” and cause you problems. In other words, you must “combine” your data frame back together. This is super easy with the <code>ungroup()</code> function:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb55"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb55-1"><a href="#cb55-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb55-2"><a href="#cb55-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb55-3"><a href="#cb55-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education) <span class="sc">%&gt;%</span></span>
<span id="cb55-4"><a href="#cb55-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">ungroup</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 8
      C1    C2    C3    C4    C5   age gender education   
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;       
 1     2     3     3     4     4    16      1 &lt;NA&gt;        
 2     5     4     4     3     4    18      2 &lt;NA&gt;        
 3     4     5     4     2     5    17      2 &lt;NA&gt;        
 4     4     4     3     5     5    17      2 &lt;NA&gt;        
 5     4     4     5     3     2    17      1 &lt;NA&gt;        
 6     6     6     6     1     3    21      2 Some College
 7     5     4     4     2     3    18      1 &lt;NA&gt;        
 8     3     2     4     2     4    19      1 HS          
 9     6     6     3     4     5    19      1 Below HS    
10     6     5     6     2     1    17      2 &lt;NA&gt;        
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>You can also overwrite groups by calling <code>group_by()</code> more than once. We’ll touch more on that in future tutorials, but for now, notice what happens when I call <code>group_by()</code> twice sequentially:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb57"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb57-1"><a href="#cb57-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb57-2"><a href="#cb57-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb57-3"><a href="#cb57-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education) <span class="sc">%&gt;%</span></span>
<span id="cb57-4"><a href="#cb57-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(gender, age)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 8
# Groups:   gender, age [115]
      C1    C2    C3    C4    C5   age gender education   
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;       
 1     2     3     3     4     4    16      1 &lt;NA&gt;        
 2     5     4     4     3     4    18      2 &lt;NA&gt;        
 3     4     5     4     2     5    17      2 &lt;NA&gt;        
 4     4     4     3     5     5    17      2 &lt;NA&gt;        
 5     4     4     5     3     2    17      1 &lt;NA&gt;        
 6     6     6     6     1     3    21      2 Some College
 7     5     4     4     2     3    18      1 &lt;NA&gt;        
 8     3     2     4     2     4    19      1 HS          
 9     6     6     3     4     5    19      1 Below HS    
10     6     5     6     2     1    17      2 &lt;NA&gt;        
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>Note that the resulting data frame is not grouped by education at all, but by gender and age (i.e.&nbsp;it is not cumulative).</p>
</section>
<section id="mutate" class="level2">
<h2 class="anchored" data-anchor-id="mutate">6. <code>mutate()</code></h2>
<p>The <code>mutate()</code> function is one of a few options for how to “apply” (a) function(s) to your split (i.e.&nbsp;<code>group_by()</code>) data frame. When you use <code>mutate()</code>, the resulting data frame will have the same number of rows you started with (which will not be true with <code>summarize()</code> / <code>summarise()</code>). One way to remember is this is that you are directly mutating the existing data frame, either modifying existing columns or creating new ones.</p>
<p>So to continue with the example above, if we were to add a column that indicated average age levels within each age group, we would call:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb59"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb59-1"><a href="#cb59-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb59-2"><a href="#cb59-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb59-3"><a href="#cb59-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(education) <span class="sc">%&gt;%</span></span>
<span id="cb59-4"><a href="#cb59-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education) <span class="sc">%&gt;%</span> </span>
<span id="cb59-5"><a href="#cb59-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">age_by_edu =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> T))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 9
# Groups:   education [6]
      C1    C2    C3    C4    C5   age gender education age_by_edu
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;          &lt;dbl&gt;
 1     6     6     3     4     5    19      1 Below HS        25.1
 2     4     3     5     3     2    21      1 Below HS        25.1
 3     5     5     5     2     2    17      1 Below HS        25.1
 4     5     5     4     1     1    18      1 Below HS        25.1
 5     4     5     4     3     3    18      1 Below HS        25.1
 6     3     2     3     4     6    18      2 Below HS        25.1
 7     3     6     3     1     3    43      2 Below HS        25.1
 8     5     3     2     4     6    32      1 Below HS        25.1
 9     5     5     4     3     4    18      1 Below HS        25.1
10     4     5     5     2     3    18      2 Below HS        25.1
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>As you can see in the resulting data frame, each person (row) with the same education level has the same value in the new <code>age_by_edu</code> column I just added.</p>
<p><code>mutate()</code> is also super useful even when you aren’t grouping. For example, if I wanted to recode gender so that 1 = “male” and 2 = “female,” we could do that like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb61"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb61-1"><a href="#cb61-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb61-2"><a href="#cb61-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb61-3"><a href="#cb61-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender_cat =</span> plyr<span class="sc">::</span><span class="fu">mapvalues</span>(gender, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 9
      C1    C2    C3    C4    C5   age gender education    gender_cat
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt;  &lt;int&gt; &lt;chr&gt;        &lt;chr&gt;     
 1     2     3     3     4     4    16      1 &lt;NA&gt;         Male      
 2     5     4     4     3     4    18      2 &lt;NA&gt;         Female    
 3     4     5     4     2     5    17      2 &lt;NA&gt;         Female    
 4     4     4     3     5     5    17      2 &lt;NA&gt;         Female    
 5     4     4     5     3     2    17      1 &lt;NA&gt;         Male      
 6     6     6     6     1     3    21      2 Some College Female    
 7     5     4     4     2     3    18      1 &lt;NA&gt;         Male      
 8     3     2     4     2     4    19      1 HS           Male      
 9     6     6     3     4     5    19      1 Below HS     Male      
10     6     5     6     2     1    17      2 &lt;NA&gt;         Female    
# … with 2,790 more rows</code></pre>
</div>
</div>
<p>We could also just write over the original gender category like:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb63"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb63-1"><a href="#cb63-1" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb63-2"><a href="#cb63-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb63-3"><a href="#cb63-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">gender =</span> plyr<span class="sc">::</span><span class="fu">mapvalues</span>(gender, <span class="fu">c</span>(<span class="dv">1</span>,<span class="dv">2</span>), <span class="fu">c</span>(<span class="st">"Male"</span>, <span class="st">"Female"</span>)))</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 2,800 × 8
      C1    C2    C3    C4    C5   age gender education   
   &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;int&gt; &lt;chr&gt;  &lt;chr&gt;       
 1     2     3     3     4     4    16 Male   &lt;NA&gt;        
 2     5     4     4     3     4    18 Female &lt;NA&gt;        
 3     4     5     4     2     5    17 Female &lt;NA&gt;        
 4     4     4     3     5     5    17 Female &lt;NA&gt;        
 5     4     4     5     3     2    17 Male   &lt;NA&gt;        
 6     6     6     6     1     3    21 Female Some College
 7     5     4     4     2     3    18 Male   &lt;NA&gt;        
 8     3     2     4     2     4    19 Male   HS          
 9     6     6     3     4     5    19 Male   Below HS    
10     6     5     6     2     1    17 Female &lt;NA&gt;        
# … with 2,790 more rows</code></pre>
</div>
</div>
</section>
<section id="summarize-summarise" class="level2">
<h2 class="anchored" data-anchor-id="summarize-summarise">7. <code>summarize()</code> / <code>summarise()</code></h2>
<p>The <code>summarize()</code> / <code>summarise()</code> functions (choose your spelling as you will) is another of the options for how to “apply” (a) function(s) to your split (i.e.&nbsp;<code>group_by()</code>) data frame. When you use <code>summarize()</code> (I made by choice), the resulting data frame will have the number of rows equal to the number of <code>group_by()</code> categories you provide. So if you provided <code>education</code>, that will be 6, and if you provided none, it would be one.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb65"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb65-1"><a href="#cb65-1" aria-hidden="true" tabindex="-1"></a><span class="co"># group_by() education</span></span>
<span id="cb65-2"><a href="#cb65-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span></span>
<span id="cb65-3"><a href="#cb65-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb65-4"><a href="#cb65-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(education) <span class="sc">%&gt;%</span></span>
<span id="cb65-5"><a href="#cb65-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(education) <span class="sc">%&gt;%</span> </span>
<span id="cb65-6"><a href="#cb65-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">age_by_edu =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> T))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 6 × 2
  education     age_by_edu
  &lt;chr&gt;              &lt;dbl&gt;
1 Below HS            25.1
2 College             33.0
3 Higher Degree       35.3
4 HS                  31.5
5 Some College        27.2
6 &lt;NA&gt;                18.0</code></pre>
</div>
<div class="sourceCode cell-code" id="cb67"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb67-1"><a href="#cb67-1" aria-hidden="true" tabindex="-1"></a><span class="co"># no groups  </span></span>
<span id="cb67-2"><a href="#cb67-2" aria-hidden="true" tabindex="-1"></a>bfi <span class="sc">%&gt;%</span> </span>
<span id="cb67-3"><a href="#cb67-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">select</span>(<span class="fu">starts_with</span>(<span class="st">"C"</span>), age, gender, education) <span class="sc">%&gt;%</span></span>
<span id="cb67-4"><a href="#cb67-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">arrange</span>(education) <span class="sc">%&gt;%</span></span>
<span id="cb67-5"><a href="#cb67-5" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">age_by_edu =</span> <span class="fu">mean</span>(age, <span class="at">na.rm =</span> T))  </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 1 × 1
  age_by_edu
       &lt;dbl&gt;
1       28.8</code></pre>
</div>
</div>
<p>From this, for example, it becomes clear that all the <code>NA</code>s in the <code>education</code> variable were because they reflected 18 year olds who had not yet completed high school as well as that the sample is pretty young overall.</p>
</section>
</section>
<section id="conclusion" class="level1">
<h1>Conclusion</h1>
<p>This has been a quick and relatively low level introduction into some of the core functions in the <code>dplyr</code> package. I challenge you to try to take what you learned and apply it to some of your own data.</p>
<p>In the next tutorial, we will touch on data wrangling, introducing the <code>tidyr</code> packages. This will provide methods for changing the shape for your data, which, in turn, will open up new opportunities to use <code>dplyr</code> functions in useful ways. We will then take all of that and roll it into additional packages and tools.</p>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    setTimeout(function() {
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const cites = ref.parentNode.getAttribute('data-cites').split(' ');
    tippyHover(ref, function() {
      var popup = window.document.createElement('div');
      cites.forEach(function(cite) {
        var citeDiv = window.document.createElement('div');
        citeDiv.classList.add('hanging-indent');
        citeDiv.classList.add('csl-entry');
        var biblioDiv = window.document.getElementById('ref-' + cite);
        if (biblioDiv) {
          citeDiv.innerHTML = biblioDiv.innerHTML;
        }
        popup.appendChild(citeDiv);
      });
      return popup.innerHTML;
    });
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./tutorials.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Tutorials</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./purrr.html" class="pagination-link">
        <span class="nav-page-text">Intro to <code>purrr</code></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->
<footer class="footer">
  <div class="nav-footer">
    <div class="nav-footer-left">Copyright 2022, Emorie D Beck</div>   
    <div class="nav-footer-right">
      <ul class="footer-items list-unstyled">
    <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/emoriebeck">
      <i class="bi bi-github" role="img">
</i> 
    </a>
  </li>  
    <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com/EmorieBeck">
      <i class="bi bi-twitter" role="img">
</i> 
    </a>
  </li>  
</ul>
    </div>
  </div>
</footer>



</body></html>